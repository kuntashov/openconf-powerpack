telepat.icl - библиотека альтернативных иконок для списка телепата.
Если в bin он есть, иконки берутся из него.

v2.0.0.0q
- Изменен внутренний формат хранения описания типов.
- Сделана загрузка пользовательских описаний типов из tls-файлов в BIN
- Выпущена утилита формирования tls файлов.
- Исправлена ошибка при работе в журналах расчетов
- Убрана отладочная печать.
- Добавлен метод Jump(Line as Long, Col=-1 As Long, LineEnd=-1 As Long, ColEnd=-1 As Long, ModuleName="" As String)
	Запоминает текущее положение в стеке прыжков и перескакивает в указанную позицию.
	Параметры по умолчанию:
	Col - устанавливается в начало строки
	LineEnd - устанавливается в Line
	ColEnd - устанавливается в конец строки
	ModuleName - при пустой строке переход в текущем модуле.
	При указанном имени сначала ищет в объектах метаданных,
	если не найдено, рассматривается как имя файла.
	При открытии форм переключает на текст модуля.
- Добавлен метод GetMethodText(Line As Long, Col As Long) As String
	Возвращает текст метода текущего модуля по указанным строке и колонке.
	Поиск идет назад от указанной позиции, до нахождения первого слова
	Процедура/Функция/КонецПроцедуры/КонецФункции (также и в англ. варианте)
	Корректно обрабатывается вхождение этих слов в строки, комментарии, даты.
	Текст ПОСЛЕ указанной позиции НЕ ОБРАБАТЫВАЕТСЯ и НЕ ВОЗВРАЩАЕТСЯ.

v2.0.0.0p
- Добавил методы УРБД
- В диалоге "Методы модуля" сделано скрытие тултипа с описанием метода
	при	переключении в другое приложение
- Добавлен доп.элемент тулбара "Телепат" - список методов модуля.
	Доступен из окна настройки панелей инструментов, вкладка "Модификация"
	При открытии списка показывает список методов модуля с сортировкой
	и фильтрацей. При текущей работе отображает имя текущего метода.
	Если находимся вне метода, отображает серым цветом первый вышестоящий метод.
	Хоткей для активации списка - Ctrl+Shift+1.
	Из скриптов может активироваться SendCommand 22511
- Добавил тултипы в окне настройки параметров
- Добавил тени от списка и тултипов для XP и W2K3

v2.0.0.0o
- Добавлены описания методов всех объектов, кроме БИ
- Расширена обработка строк в кавычках.
	Снято ограничение на 2 "точки" в строке.
	Добавлены ключевые слова языка запросов.
- В списке выбора Ctrl+Left/Right направляются в текстовый редактор.
- Список выбора сделан "бесконечным", то есть Up/Down вверху/внизу списка
	перемещают текущий выбор вниз/вверх
- Исправлена ошибка при Ctrl+Enter при открытом списке выбора
- Исправлена ошибка при обработке команды меню шаблонов
- В диалоге "Методы модуля" сделана возможность быстрого переключения
	настроек "Сортировать" (Ctrl+S) и "Фильтровать" (Ctrl+F)
- Диалог методы модуля: при фильтрации методов не устанавливался
	выделенный метод

v2.0.0.0n
- Восстановил вставку предопределенных блоков.
	При их вставке вызывается событие OnInsert с типом вставки 14
- У ТаблицыЗначений и СпискаЗначений проставил параметры по умолчанию
- Начато документирование. Файл telepat.chm

v2.0.0.0m
- Меню шаблонов:
	- Количество элементов, выводимых в меню, увеличено до 500.
	- 10 последних примененных шаблонов выводятся в начале меню.
	- Шаблоны в меню группируются, как в настройке шаблонов.
	- Добавлена возможность из скриптов добавлять свои команды в меню шаблонов (до 500).
- CodeJump
	- Исправлена работа с разделенными окнами.
	  При переходе активировалась всегда верхне-левая часть окна.
- Опция "Отключить шаблоны в комментариях и строках"
	разделена на две: "Отключить в комментариях", "Отключить в строках".
- Добавлена вставка в список завершений слов замены шаблонов.
	В список завершений теперь могут включатся слова, автоматически
	заменяемые механизмом шаблонов. Для того, что бы слово попало
	в список, должна быть включена галочка "Добавлять в список"
	в настройках, и слово должно подпадать под определение идентификатора.
	Например, в шаблонах есть заменять "проц" и заменять "счпк\".
	"проц" - появится в списке завершений, "счпк\" - не появится.
	Для шаблона можно указать лексический контекст, в котором
	он может попасть в список завершений. Для этого после названия
	шаблона необходимо через символ "¦" (вставляется Alt+182 на цифровой клавиатуре)
	указать модификатор. Существуют следующие модификаторы:
	proc - Шаблон попадает в список, если в данном месте допустим вызов процедуры.
	expr - Шаблон допустим только в выражениях.
	func - Шаблон попадает в список, если в данном месте допустим вызов функции.
			(те и при вызове процедуры, и в выражении)
	keyw:- Шаблон допустим тогда, когда в данном месте допустимо использование
			указанных ключевых слов (через запятую).
	Более понятно будет, если посмотреть прилагаемый пример файла шаблонов 1cv7srct.st
- Добавлена настройка: Добавлять шаблоны в список завершений.
- Удалена вставка предопределенных блоков.
- Скрипты:
	- Добавлены события
		GetMenu - позволяет програмно дополнить меню шаблонов
		OnCustomMenu - обработать команду, добавленную в GetMenu
		OnInsert - вызывается при вставке текста из списка завершений и
			позволяет изменить вставляемый текст.
	- Добавлено свойство AddTemplate объекта Telepat
	- Дополнен пример скрипта и файла шаблонов.


v2.0.0.0l
- Скрипты: Добавлен метод ConvertTemplate.
	Производит "раскрытие" текста шаблона стандартными средствами 1С.
	ВАЖНО: конструкция <?> (Установка курсора) после раскрытия
	шаблона остается в тексте, чтобы дальнейшая вставка в обработчике
	OnTemplate правильно установила курсор.
- Добавлен хоткей Ctrl+2 для вызова меню вставки шаблонов.
	Шаблоны, вызванные через хоткей вставляются в комментарии
	и строки независимо от флага "Отключить шаблоны в комментариях и строках"
- В ConvertTemplate добавлен опциональный параметр "ИмяШаблона".
	По умолчанию - Телепат.
	Данное имя будет появлятся  в заголовке окна ввода произвольного значения.
- В пример скрипта telepat.vbs и файл шаблона внесены дополнения,
	поясняющие работу метода на примере динамического шаблона
	"Заполнение дока", "Заполнение ТЧ", "Заполнение регистра".
- Добавил описания методов ТаблицыЗначений, СпискаЗначений

v2.0.0.0k
- Цвета в окнах приведены к системным.
- Сделана настройка количества символов, после которых
	автоактивируется список завершений
- Исправлен жирный шрифт в окне "Объединение конфигураций"
- При активном списке выбора клавиши ВЛЕВО, ВПРАВО, DELETE
	перенаправляются в окно редактора.
- В подсказке о параметрах не выводился "Знач"
- Добавлена настройка параметров из скриптов.
- Добавлено событие "OnTemplate"
- Исправлена ошибка с кодировкой в списке завершений
- Исправлена ошибка при програмном доступе из скриптов
	к настройкам подсказки о параметрах
- Исправлена ошибка при вставке шаблонов.


v2.0.0.0j
- Начата работа по обработке строковых констант.
	При наборе строковых констант работает подсказка
	по объектам метаданных.
	Пока обрабатываются следующие объекты:
	Справочник
	Документ
	Журнал
	Регистр
	Отчет
	Обработка
	ПланСчетов

v2.0.0.0h
- Начата работа над подсказками параметров.
- При выводе подсказки по нескольким одинаковым методам,
	переключение метода осуществляется Alt+Вверх, Alt+Вниз.
- Добавлена настройка подсказки о параметрах/
- В диалоге настройки не инициализировался флажок
	"Фильтровать".
- Укорочены описания методов и параметров


v2.0.0.0g
- После точки в список ошибочно попадали атрибуты метаданных
	текущего модуля.
- Парсер диалогов: атрибуты метаданных объекта, размещенные на форме,
	ошибочно добавлялись в список.
	Например, в справочнике в списке было "Наименование"
	как атрибут метаданных, и "Наименование" как реквизит формы.
- Реквизиты формы удалены из разрешенных для счетчиков цикла.
	те после "Для" реквизиты формы не появляются.
- По Ctrl+Пробел производится полный репарсинг модуля и ГМ.
	Для чего: сейчас для скорости применяется алгоритм парсинга
	части текста модуля. К сожалению, технически очень сложно
	отследить ВСЕ действия с текстом, могущие повлечь изменение
	структуры модуля. В результате этого в выскакивающем при
	наборе текста списке могут быть неактуальные записи, либо
	наоборот, недостающие. В этом случае достаточно вызвать
	телепата принудительно, при этом будет произведен полный
	репарсинг текущего и глобального модуля.
	Ctrl+Пробел можно запустить и при активном списке выбора.
	те начали набирать слово, выскочил список. Нажали Ctrl+Пробел,
	список переформировался.


v2.0.0.0f
- Автовставка: после незакрытой строковой константы
	по Enter вставляется '|'.
- В диалоге "Методы модуля" добавлена опция	"Фильтровать".
	При этом в списке отображаются методы, содержащие
	набранные подстроки.
- Парсер текста приведен в логичный вид, упрощен, оптимизирован,
	ускорен в 2 раза.
- Оптимизирована работа с большими текстами.
	Теперь в конце ГМ не подтормаживает.
- Устранена небольшая утечка памяти.
- Выкинут "мусор" и неиспользуемый функционал.

v2.0.0.0e
- Добавлено
	Автозамена
	<идентификатор>++ на <идентификатор>=<идентификатор>+1;
	<идентификатор>-- на <идентификатор>=<идентификатор>-1;
- Диалог "Методы модуля"
	При нахождении фокуса в поле ввода поиска
	нажатия PgUp, PgDn перенаправляются в список методов.
	Ctrl+PgUp - переместиться в начало списка
	Ctrl+PgDn - переместиться в конец списка

v2.0.0.0d
- Исправлена ошибка в обработке реквизитов диалога.
	Не все поля ввода попадали в список.
- Внесены изменения в алгоритм вставки выбранного
	пункта списка

v2.0.0.0c
- Добавлена настройка сортировки в диалоге "Методы модуля"
- Исправлена работа с разделенными окнами
- Исправлена ошибка при добавлении точки в стек прыжков
  из диалога "Методы модуля"
- В модулях журналов документов добавлены
  общие реквизиты документов
- Добавлены вставка шаблонов
	ИначеЕсли_Тогда,
	Для_КонецЦикла,
	Функция_КонецФункции,
	Если_КонецЕсли,
	Процедура_КонецПроцедуры,
	Попытка_КонецПопытки,
	Пока_КонецЦикла,
- Добавлена обработка реквизитов диалогов
- Для внешних обработок не добавлялся заголовок окна
	в стек прыжков

v2.0.0.0b
Добавлено:
- CodeJump
	Перескок	Ctrl+Enter
	Назад		Alt+Влево
	Вперед		Alt+Вправо
	Стек		Ctrl+Shift+Enter
- Диалог "Стек переходов"
- Диалог "Методы модуля" добавляет запись в стек переходов
- Атрибуты метаданных в модулях
- Кнопка стека переходов на панели
- Проверка для локальных переменных, не являются ли они атрибутом метаданных

Исправлено:
- Методы Новый, Записать, Удалить, СнятьПометкуУдаления
	из типа "Счет" перенесены в тип "Счет_СоздатьОбъект"
- Метод Записать добавлен в тип "Счет_Форма"
- Перемещены некоторые методы справочников.

v2.0.0.0a
Добавлено:
- Подмена стандартного диалога "Процедуры и функции модуля"
	Фичи:
	Вызывается по Ctrl+1
	Изменяемый размер
	При закрытии диалога запоминается позиция и размер
	При открытии позиционируется на методе, в котором
	сейчас находимся. Если находимя вне метода, позиционируется
	на ближайшем вышерасположенном методе.
	В настройках можно отключить его использование.
- Методы и атрибуты различных видов программных модулей.

Исправлено:
- С++ замены (+=, -=, *=, /=, %=)
	Теперь
	имя+=|
	заменяется на
	имя=имя+|
	а
	имя +=|
	заменяется на
	имя = имя + |
	Левая часть определяется не до начала строки, а до первого недопустимого
	в идентификаторах символа, те
	номер=1;ДругойНомер+=|
	заменится на
	номер=1;ДругойНомер=ДругойНомер+|
- при клике на тултипе списка выбора, фокус переключался на другое приложение

v2.0.0.0
Версия еще крайне ограниченная по возможностям.
Так как движок первого телепата почти полностью переписан,
еще не весь функционал из него перенесен.
Нет из первого телепата:
- кодеджампа.
- Методов и атрибутов различных типов модулей.
   (типа там ИерерхическийСписок в форме списке справочника и тп)
- Метаданных там же.
- Реквизитов диалога.

Добавлено:
+ работа с локальными переменными
+ работа с ключевыми словами
+ Автозамены вне кавычек и комментариев:
   ? на ?(,,)
   С++ мульки:
   <строка>+= на <строка>=<строка>+
   аналогично для -=, *=, /=, %=
+ Тулбар "Телепат"
+ Команды телепата в меню "Действия" и в контексном меню
+ Настройка языка и используемых компонент

Планируется:
работа после точки.
Тултипы с параметрами методов.
Замена 1С-ого диалога "Процедуры/Функции модуля", бо тормозной и неудобный.
Интерфейс к телепату для скриптов и других плагинов.
....

Плагин будет условно-бесплатным, в релиз будет вставлена регистрилка
с привязкой к железу. Просьба сильно не распространять бета-версии.
Бета-тестеры естественно, получат ключи для тестирования бесплатно.


С уважением, Александр Орефков
orefkov@tornado.msx.ru